import{s as G,c as B,x as ie,w as j,q as re,a as Ee,o as De,E as ge,d as D,B as Ce,v as _e,m as t,n as pe,X as Be,F as X,K as $,L as h,M as a,V as H,O as p,S as o,R as L,U as ye,W as te,T as C,Y as Pe,Z as Ie}from"./vue-vendor-B4qzxTjV.js";import{_ as Le}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{u as we,m as Re,d as Ue,e as he,f as ze}from"./index-CIpMSW_s.js";import{V as ae,a as le,b as ne,c as xe}from"./VCard-BaakkVFD.js";import{V as oe}from"./VSpacer-CKNG9Jdn.js";import{V as se}from"./VBadge-3i7ShY3u.js";import{u as He,a as Ne,b as Ye,i as $e,V as Oe,e as We,m as Ae,c as Xe,d as Fe,f as S,h as ue,g as qe}from"./VAvatar-C-ER2-0S.js";import{V as J}from"./VDivider-Drx-iRHJ.js";import{u as Ke,V as Q,d as Ze,a as N,b as O,c as Y}from"./VList-zMJOwsiP.js";import{V as K}from"./VBtn-B-hdhH-1.js";import{V as be}from"./VTextarea-8VdTHJP4.js";import{V as je}from"./VAlert-BUlv_49D.js";import{V as Ge}from"./VRating-prAmFwNY.js";import{f as Je,D as Qe,y as ee,g as et,p as tt,u as at,a as lt,E as nt,x as ot,F as st,z as ut,v as it,b as rt,m as dt,A as vt,G as mt,e as ct}from"./vuetify-vendor-BD37EBPT.js";import{u as ft,a as gt,m as pt}from"./VOverlay-BXO8EOEs.js";import{V as yt}from"./VSnackbar-X6915U30.js";import"./index-yNQZhi3p.js";import"./VField-BmVeynRq.js";import"./VInput-Bp3p24Ap.js";import"./forwardRefs-C-GTDzx5.js";import"./lazy-UP9naqc7.js";function wt(l){let{rootEl:r,isSticky:s,layoutItemStyles:M}=l;const n=G(!1),m=G(0),u=B(()=>{const E=typeof n.value=="boolean"?"top":n.value;return[s.value?{top:"auto",bottom:"auto",height:void 0}:void 0,n.value?{[E]:Je(m.value)}:{top:M.value.top}]});ie(()=>{j(s,E=>{E?window.addEventListener("scroll",P,{passive:!0}):window.removeEventListener("scroll",P)},{immediate:!0})}),re(()=>{window.removeEventListener("scroll",P)});let k=0;function P(){const E=k>window.scrollY?"up":"down",x=r.value.getBoundingClientRect(),b=parseFloat(M.value.top??0),y=window.scrollY-Math.max(0,m.value-b),w=x.height+Math.max(m.value,b)-window.scrollY-window.innerHeight,V=parseFloat(getComputedStyle(r.value).getPropertyValue("--v-body-scroll-y"))||0;x.height<window.innerHeight-b?(n.value="top",m.value=b):E==="up"&&n.value==="bottom"||E==="down"&&n.value==="top"?(m.value=window.scrollY+x.top-V,n.value=!0):E==="down"&&w<=0?(m.value=0,n.value="bottom"):E==="up"&&y<=0&&(V?n.value!=="top"&&(m.value=-y+V+b,n.value="top"):(m.value=x.top+y,n.value="top")),k=window.scrollY}return{isStuck:n,stickyStyles:u}}const ht=100,xt=20;function ke(l){return(l<0?-1:1)*Math.sqrt(Math.abs(l))*1.41421356237}function Ve(l){if(l.length<2)return 0;if(l.length===2)return l[1].t===l[0].t?0:(l[1].d-l[0].d)/(l[1].t-l[0].t);let r=0;for(let s=l.length-1;s>0;s--){if(l[s].t===l[s-1].t)continue;const M=ke(r),n=(l[s].d-l[s-1].d)/(l[s].t-l[s-1].t);r+=(n-M)*Math.abs(n),s===l.length-1&&(r*=.5)}return ke(r)*1e3}function bt(){const l={};function r(n){Array.from(n.changedTouches).forEach(m=>{(l[m.identifier]??(l[m.identifier]=new Qe(xt))).push([n.timeStamp,m])})}function s(n){Array.from(n.changedTouches).forEach(m=>{delete l[m.identifier]})}function M(n){var E;const m=(E=l[n])==null?void 0:E.values().reverse();if(!m)throw new Error(`No samples for touch id ${n}`);const u=m[0],k=[],P=[];for(const x of m){if(u[0]-x[0]>ht)break;k.push({t:x[0],d:x[1].clientX}),P.push({t:x[0],d:x[1].clientY})}return{x:Ve(k),y:Ve(P),get direction(){const{x,y:b}=this,[y,w]=[Math.abs(x),Math.abs(b)];return y>w&&x>=0?"right":y>w&&x<=0?"left":w>y&&b>=0?"down":w>y&&b<=0?"up":kt()}}}return{addMovement:r,endTouch:s,getVelocity:M}}function kt(){throw new Error}function Vt(l){let{el:r,isActive:s,isTemporary:M,width:n,touchless:m,position:u}=l;ie(()=>{window.addEventListener("touchstart",W,{passive:!0}),window.addEventListener("touchmove",U,{passive:!1}),window.addEventListener("touchend",q,{passive:!0})}),re(()=>{window.removeEventListener("touchstart",W),window.removeEventListener("touchmove",U),window.removeEventListener("touchend",q)});const k=B(()=>["left","right"].includes(u.value)),{addMovement:P,endTouch:E,getVelocity:x}=bt();let b=!1;const y=G(!1),w=G(0),V=G(0);let _;function R(d,v){return(u.value==="left"?d:u.value==="right"?document.documentElement.clientWidth-d:u.value==="top"?d:u.value==="bottom"?document.documentElement.clientHeight-d:Z())-(v?n.value:0)}function z(d){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const f=u.value==="left"?(d-V.value)/n.value:u.value==="right"?(document.documentElement.clientWidth-d-V.value)/n.value:u.value==="top"?(d-V.value)/n.value:u.value==="bottom"?(document.documentElement.clientHeight-d-V.value)/n.value:Z();return v?Math.max(0,Math.min(1,f)):f}function W(d){if(m.value)return;const v=d.changedTouches[0].clientX,f=d.changedTouches[0].clientY,g=25,T=u.value==="left"?v<g:u.value==="right"?v>document.documentElement.clientWidth-g:u.value==="top"?f<g:u.value==="bottom"?f>document.documentElement.clientHeight-g:Z(),c=s.value&&(u.value==="left"?v<n.value:u.value==="right"?v>document.documentElement.clientWidth-n.value:u.value==="top"?f<n.value:u.value==="bottom"?f>document.documentElement.clientHeight-n.value:Z());(T||c||s.value&&M.value)&&(_=[v,f],V.value=R(k.value?v:f,s.value),w.value=z(k.value?v:f),b=V.value>-20&&V.value<80,E(d),P(d))}function U(d){const v=d.changedTouches[0].clientX,f=d.changedTouches[0].clientY;if(b){if(!d.cancelable){b=!1;return}const T=Math.abs(v-_[0]),c=Math.abs(f-_[1]);(k.value?T>c&&T>3:c>T&&c>3)?(y.value=!0,b=!1):(k.value?c:T)>3&&(b=!1)}if(!y.value)return;d.preventDefault(),P(d);const g=z(k.value?v:f,!1);w.value=Math.max(0,Math.min(1,g)),g>1?V.value=R(k.value?v:f,!0):g<0&&(V.value=R(k.value?v:f,!1))}function q(d){if(b=!1,!y.value)return;P(d),y.value=!1;const v=x(d.changedTouches[0].identifier),f=Math.abs(v.x),g=Math.abs(v.y);(k.value?f>g&&f>400:g>f&&g>3)?s.value=v.direction===({left:"right",right:"left",top:"down",bottom:"up"}[u.value]||Z()):s.value=w.value>.5}const A=B(()=>y.value?{transform:u.value==="left"?`translateX(calc(-100% + ${w.value*n.value}px))`:u.value==="right"?`translateX(calc(100% - ${w.value*n.value}px))`:u.value==="top"?`translateY(calc(-100% + ${w.value*n.value}px))`:u.value==="bottom"?`translateY(calc(100% - ${w.value*n.value}px))`:Z(),transition:"none"}:void 0);return ee(y,()=>{var f,g;const d=((f=r.value)==null?void 0:f.style.transform)??null,v=((g=r.value)==null?void 0:g.style.transition)??null;Ee(()=>{var T,c,e,i;(c=r.value)==null||c.style.setProperty("transform",((T=A.value)==null?void 0:T.transform)||"none"),(i=r.value)==null||i.style.setProperty("transition",((e=A.value)==null?void 0:e.transition)||null)}),De(()=>{var T,c;(T=r.value)==null||T.style.setProperty("transform",d),(c=r.value)==null||c.style.setProperty("transition",v)})}),{isDragging:y,dragProgress:w,dragStyles:A}}function Z(){throw new Error}const Ct=["start","end","left","right","top","bottom"],Tt=tt({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:l=>Ct.includes(l)},sticky:Boolean,...Fe(),...ct(),...pt(),...mt({mobile:null}),...Xe(),...vt(),...Ae(),...Re({tag:"nav"}),...dt()},"VNavigationDrawer"),St=et()({name:"VNavigationDrawer",props:Tt(),emits:{"update:modelValue":l=>!0,"update:rail":l=>!0},setup(l,r){let{attrs:s,emit:M,slots:n}=r;const{isRtl:m}=at(),{themeClasses:u}=lt(l),{borderClasses:k}=He(l),{backgroundColorClasses:P,backgroundColorStyles:E}=we(ge(l,"color")),{elevationClasses:x}=Ne(l),{displayClasses:b,mobile:y}=nt(l),{roundedClasses:w}=Ye(l),V=$e(),_=ot(l,"modelValue",null,I=>!!I),{ssrBootStyles:R}=Ke(),{scopeId:z}=ft(),W=D(),U=G(!1),{runOpenDelay:q,runCloseDelay:A}=gt(l,I=>{U.value=I}),d=B(()=>l.rail&&l.expandOnHover&&U.value?Number(l.width):Number(l.rail?l.railWidth:l.width)),v=B(()=>st(l.location,m.value)),f=B(()=>l.persistent),g=B(()=>!l.permanent&&(y.value||l.temporary)),T=B(()=>l.sticky&&!g.value&&v.value!=="bottom");ee(()=>l.expandOnHover&&l.rail!=null,()=>{j(U,I=>M("update:rail",!I))}),ee(()=>!l.disableResizeWatcher,()=>{j(g,I=>!l.permanent&&Ce(()=>_.value=!I))}),ee(()=>!l.disableRouteWatcher&&!!V,()=>{j(V.currentRoute,()=>g.value&&(_.value=!1))}),j(()=>l.permanent,I=>{I&&(_.value=!0)}),l.modelValue==null&&!g.value&&(_.value=l.permanent||!y.value);const{isDragging:c,dragProgress:e}=Vt({el:W,isActive:_,isTemporary:g,width:d,touchless:ge(l,"touchless"),position:v}),i=B(()=>{const I=g.value?0:l.rail&&l.expandOnHover?Number(l.railWidth):d.value;return c.value?I*e.value:I}),{layoutItemStyles:F,layoutItemScrimStyles:Te}=ut({id:l.name,order:B(()=>parseInt(l.order,10)),position:v,layoutSize:i,elementSize:d,active:_e(_),disableTransitions:B(()=>c.value),absolute:B(()=>l.absolute||T.value&&typeof de.value!="string")}),{isStuck:de,stickyStyles:Se}=wt({rootEl:W,isSticky:T,layoutItemStyles:F}),ve=we(B(()=>typeof l.scrim=="string"?l.scrim:null)),Me=B(()=>({...c.value?{opacity:e.value*.2,transition:"none"}:void 0,...Te.value}));return it({VList:{bgColor:"transparent"}}),rt(()=>{const I=n.image||l.image;return t(X,null,[t(l.tag,pe({ref:W,onMouseenter:q,onMouseleave:A,class:["v-navigation-drawer",`v-navigation-drawer--${v.value}`,{"v-navigation-drawer--expand-on-hover":l.expandOnHover,"v-navigation-drawer--floating":l.floating,"v-navigation-drawer--is-hovering":U.value,"v-navigation-drawer--rail":l.rail,"v-navigation-drawer--temporary":g.value,"v-navigation-drawer--persistent":f.value,"v-navigation-drawer--active":_.value,"v-navigation-drawer--sticky":T.value},u.value,P.value,k.value,b.value,x.value,w.value,l.class],style:[E.value,F.value,R.value,Se.value,l.style]},z,s),{default:()=>{var me,ce,fe;return[I&&t("div",{key:"image",class:"v-navigation-drawer__img"},[n.image?t(We,{key:"image-defaults",disabled:!l.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:l.image}}},n.image):t(Oe,{key:"image-img",alt:"",cover:!0,height:"inherit",src:l.image},null)]),n.prepend&&t("div",{class:"v-navigation-drawer__prepend"},[(me=n.prepend)==null?void 0:me.call(n)]),t("div",{class:"v-navigation-drawer__content"},[(ce=n.default)==null?void 0:ce.call(n)]),n.append&&t("div",{class:"v-navigation-drawer__append"},[(fe=n.append)==null?void 0:fe.call(n)])]}}),t(Be,{name:"fade-transition"},{default:()=>[g.value&&(c.value||_.value)&&!!l.scrim&&t("div",pe({class:["v-navigation-drawer__scrim",ve.backgroundColorClasses.value],style:[Me.value,ve.backgroundColorStyles.value],onClick:()=>{f.value||(_.value=!1)}},z),null)]})])}),{isStuck:de}}}),Mt={class:"d-flex flex-column align-end"},Et={class:"text-caption"},Dt={key:0,class:"text-caption"},_t={class:"text-caption"},Bt={key:0,class:"text-center my-5"},Pt={key:1,class:"text-center my-5"},It={key:0,class:"text-center my-5"},Lt={class:"text-body-1 mt-2"},Rt={key:1},Ut={class:"text-body-1"},zt={class:"text-caption text-right mt-1"},Ht={class:"mt-3"},Nt={class:"mt-3"},Yt={key:2,class:"mt-4"},$t={__name:"index",setup(l){const r=D(!0),s=D({}),M=D({}),n=D([]),m=D(""),u=D(!1),k=D("connecting"),P=D(new Date),E=D(!1),x=D(0),b=D(""),y=D(!1),w=D(!1),V=D(""),_=D("success"),R=D([{id:1,name:"Иван Иванов",email:"ivan@example.com",phone:"+7 (999) 123-45-67",lastMessage:"Здравствуйте, у меня вопрос по продукту",lastTime:new Date-5*6e4,unread:2,online:!0,contactCount:3},{id:2,name:"Мария Петрова",email:"maria@example.com",phone:"+7 (999) 987-65-43",lastMessage:"Спасибо за помощь!",lastTime:new Date-30*6e4,unread:0,online:!0,contactCount:1},{id:3,name:"Алексей Смирнов",email:"alex@example.com",phone:"+7 (999) 555-55-55",lastMessage:"Когда будет доступна новая версия?",lastTime:new Date-120*6e4,unread:0,online:!1,contactCount:5}]),z=D(null);ie(()=>{setTimeout(()=>{k.value="connected",r.value?R.value.length>0&&A(R.value[0]):setTimeout(()=>{M.value={id:1,name:"Оператор Марина",rating:4.8},n.value.push({id:1,text:"Здравствуйте! Меня зовут Марина. Чем я могу вам помочь?",timestamp:new Date,isUser:!1})},2e3)},1500)}),re(()=>{});const W=B(()=>R.value.filter(c=>c.online).length),U=B(()=>R.value),q=B(()=>{const e=Math.floor((new Date-P.value)/1e3),i=Math.floor(e/60),F=e%60;return`${i}:${F.toString().padStart(2,"0")}`});function A(c){s.value=c,n.value=[{id:1,text:"Здравствуйте, у меня вопрос по продукту",timestamp:new Date-5*6e4,isUser:!1},{id:2,text:"Здравствуйте! Какой именно вопрос вас интересует?",timestamp:new Date-4*6e4,isUser:!0}],c.unread=0}function d(){m.value.trim()&&(n.value.push({id:n.value.length+1,text:m.value,timestamp:new Date,isUser:!0}),m.value="",v(),r.value||setTimeout(()=>{n.value.push({id:n.value.length+1,text:"Спасибо за ваше сообщение! Я скоро отвечу.",timestamp:new Date,isUser:!1}),v()},1e3))}function v(){Ce(()=>{z.value&&(z.value.scrollTop=z.value.scrollHeight)})}function f(c){return new Date(c).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})}function g(){if(r.value){_.value="success",V.value="Чат завершен",w.value=!0,n.value.push({id:n.value.length+1,text:"Чат завершен оператором. Спасибо за обращение!",timestamp:new Date,isUser:!0});const c=R.value.findIndex(e=>e.id===s.value.id);c!==-1&&R.value.splice(c,1),s.value={}}}function T(){y.value=!0,setTimeout(()=>{y.value=!1,E.value=!1,_.value="success",V.value="Спасибо за ваш отзыв!",w.value=!0,x.value=0,b.value=""},1500)}return j(n,()=>{v()},{deep:!0}),(c,e)=>(h(),$(ze,{fluid:"",class:"pa-0 h-100"},{default:a(()=>[t(Ue,{class:"h-100 ma-0"},{default:a(()=>[r.value?(h(),$(he,{key:0,cols:"12",sm:"4",md:"3",class:"h-100 pa-0 border-end"},{default:a(()=>[t(ae,{class:"h-100 rounded-0"},{default:a(()=>[t(le,{class:"px-4 py-3 d-flex align-center"},{default:a(()=>[e[9]||(e[9]=p("span",null,"Клиенты",-1)),t(oe),t(se,{content:W.value,color:"success","offset-x":"12","offset-y":"12"},{default:a(()=>[t(S,null,{default:a(()=>e[8]||(e[8]=[o("mdi-account-multiple")])),_:1})]),_:1},8,["content"])]),_:1}),t(J),t(ne,{class:"px-0 py-0"},{default:a(()=>[t(Q,null,{default:a(()=>[t(Ze,null,{default:a(()=>e[10]||(e[10]=[o("Активные чаты")])),_:1}),(h(!0),L(X,null,ye(U.value,i=>(h(),$(N,{key:i.id,active:s.value.id===i.id,onClick:F=>A(i),class:te({"bg-secondary-subtle":s.value.id===i.id})},{prepend:a(()=>[t(se,{color:i.online?"success":"grey",dot:"",location:"bottom right","offset-x":"3","offset-y":"3"},{default:a(()=>[t(ue,{size:"40",color:"primary",class:"text-white"},{default:a(()=>[o(C(i.name.charAt(0).toUpperCase()),1)]),_:2},1024)]),_:2},1032,["color"])]),append:a(()=>[p("div",Mt,[p("div",Et,C(f(i.lastTime)),1),i.unread>0?(h(),$(se,{key:0,content:i.unread,color:"error",class:"mt-1"},null,8,["content"])):H("",!0)])]),default:a(()=>[t(O,null,{default:a(()=>[o(C(i.name),1)]),_:2},1024),t(Y,{class:"text-truncate"},{default:a(()=>[o(C(i.lastMessage),1)]),_:2},1024)]),_:2},1032,["active","onClick","class"]))),128)),U.value.length>0?(h(),$(J,{key:0})):H("",!0),U.value.length===0?(h(),$(N,{key:1,class:"text-center"},{default:a(()=>[t(Y,null,{default:a(()=>e[11]||(e[11]=[o(" Нет активных чатов ")])),_:1})]),_:1})):H("",!0)]),_:1})]),_:1})]),_:1})]),_:1})):H("",!0),t(he,{cols:"",class:"h-100 pa-0 d-flex flex-column"},{default:a(()=>[t(ae,{class:"h-100 rounded-0 d-flex flex-column"},{default:a(()=>[t(le,{class:"px-4 py-3 d-flex align-center border-bottom"},{default:a(()=>[r.value?(h(),L(X,{key:0},[s.value.id?(h(),$(ue,{key:0,size:"36",color:"primary",class:"text-white me-3"},{default:a(()=>[o(C(s.value.name.charAt(0).toUpperCase()),1)]),_:1})):H("",!0),p("div",null,[p("div",null,C(s.value.id?s.value.name:"Выберите клиента"),1),s.value.online?(h(),L("div",Dt,[t(S,{size:"small",color:"success"},{default:a(()=>e[12]||(e[12]=[o("mdi-circle")])),_:1}),e[13]||(e[13]=o(" Онлайн "))])):H("",!0)])],64)):(h(),L(X,{key:1},[t(ue,{size:"36",color:"primary",class:"text-white me-3"},{default:a(()=>[t(S,null,{default:a(()=>e[14]||(e[14]=[o("mdi-headset")])),_:1})]),_:1}),p("div",null,[p("div",null,C(M.value.name||"Оператор"),1),p("div",_t,[t(S,{size:"small",color:k.value==="connected"?"success":"warning"},{default:a(()=>e[15]||(e[15]=[o(" mdi-circle ")])),_:1},8,["color"]),o(" "+C(k.value==="connected"?"В сети":"Подключение..."),1)])])],64)),t(oe),t(K,{icon:"",variant:"text",onClick:e[0]||(e[0]=i=>u.value=!u.value)},{default:a(()=>[t(S,null,{default:a(()=>e[16]||(e[16]=[o("mdi-information-outline")])),_:1})]),_:1})]),_:1}),t(ne,{class:"flex-grow-1 overflow-auto pa-4",ref_key:"messagesContainer",ref:z},{default:a(()=>[!r.value&&!M.value.id?(h(),L("div",Bt,[t(S,{size:"64",color:"primary"},{default:a(()=>e[17]||(e[17]=[o("mdi-headset")])),_:1}),e[18]||(e[18]=p("h3",{class:"mt-3"},"Ожидание оператора",-1)),e[19]||(e[19]=p("p",{class:"text-body-1 mt-2"},"Пожалуйста, подождите, оператор скоро подключится",-1)),t(qe,{indeterminate:"",color:"primary",class:"mt-4"})])):r.value&&!s.value.id?(h(),L("div",Pt,[t(S,{size:"64",color:"primary"},{default:a(()=>e[20]||(e[20]=[o("mdi-message-text-outline")])),_:1}),e[21]||(e[21]=p("h3",{class:"mt-3"},"Выберите клиента",-1)),e[22]||(e[22]=p("p",{class:"text-body-1 mt-2"},"Выберите клиента из списка слева для начала общения",-1))])):(h(),L(X,{key:2},[n.value.length===0?(h(),L("div",It,[t(S,{size:"64",color:"grey"},{default:a(()=>e[23]||(e[23]=[o("mdi-message-text-outline")])),_:1}),e[24]||(e[24]=p("h3",{class:"mt-3"},"Начните общение",-1)),p("p",Lt,C(r.value?"Напишите сообщение клиенту":"Напишите свой вопрос"),1)])):(h(),L("div",Rt,[(h(!0),L(X,null,ye(n.value,(i,F)=>(h(),L("div",{key:F,class:"mb-4"},[p("div",{class:te(["d-flex",i.isUser?"justify-end":"justify-start"])},[p("div",{class:te(["message rounded-lg pa-3",i.isUser?"user-message":"other-message"]),style:{"max-width":"70%"}},[p("div",Ut,C(i.text),1),p("div",zt,C(f(i.timestamp)),1)],2)],2)]))),128))]))],64))]),_:1},512),r.value&&s.value.id||!r.value&&M.value.id&&k.value==="connected"?(h(),$(xe,{key:0,class:"pa-3 border-top"},{default:a(()=>[t(be,{modelValue:m.value,"onUpdate:modelValue":e[1]||(e[1]=i=>m.value=i),class:"chat-input",rows:"1","auto-grow":"",variant:"outlined",density:"comfortable","hide-details":"",placeholder:"Введите сообщение...",onKeydown:Pe(Ie(d,["prevent"]),["enter"])},null,8,["modelValue","onKeydown"]),t(K,{icon:"",color:"primary",class:"ms-2",disabled:!m.value.trim(),onClick:d},{default:a(()=>[t(S,null,{default:a(()=>e[25]||(e[25]=[o("mdi-send")])),_:1})]),_:1},8,["disabled"])]),_:1})):H("",!0),!r.value&&E.value?(h(),$(xe,{key:1,class:"pa-3 border-top"},{default:a(()=>[t(je,{type:"info",title:"Чат завершен",text:"Оператор завершил чат. Оцените качество обслуживания.",class:"w-100 mb-0"},{append:a(()=>[t(K,{color:"primary",onClick:T,loading:y.value},{default:a(()=>e[26]||(e[26]=[o(" Отправить отзыв ")])),_:1},8,["loading"])]),default:a(()=>[p("div",Ht,[t(Ge,{modelValue:x.value,"onUpdate:modelValue":e[2]||(e[2]=i=>x.value=i),density:"comfortable",color:"warning",size:"small"},null,8,["modelValue"])]),p("div",Nt,[t(be,{modelValue:b.value,"onUpdate:modelValue":e[3]||(e[3]=i=>b.value=i),label:"Комментарий",rows:"2",variant:"outlined","hide-details":""},null,8,["modelValue"])])]),_:1})]),_:1})):H("",!0)]),_:1})]),_:1}),t(St,{modelValue:u.value,"onUpdate:modelValue":e[5]||(e[5]=i=>u.value=i),width:320,temporary:"",location:"right"},{default:a(()=>[t(ae,{flat:"",class:"h-100"},{default:a(()=>[t(le,{class:"d-flex align-center"},{default:a(()=>[e[28]||(e[28]=p("span",null,"Информация",-1)),t(oe),t(K,{icon:"",variant:"text",onClick:e[4]||(e[4]=i=>u.value=!1)},{default:a(()=>[t(S,null,{default:a(()=>e[27]||(e[27]=[o("mdi-close")])),_:1})]),_:1})]),_:1}),t(J),t(ne,null,{default:a(()=>[r.value&&s.value.id?(h(),L(X,{key:0},[e[39]||(e[39]=p("h3",{class:"text-h6 mb-2"},"Информация о клиенте",-1)),t(Q,{density:"compact"},{default:a(()=>[t(N,null,{prepend:a(()=>[t(S,{color:"primary"},{default:a(()=>e[29]||(e[29]=[o("mdi-account")])),_:1})]),default:a(()=>[t(O,null,{default:a(()=>[o(C(s.value.name),1)]),_:1}),t(Y,null,{default:a(()=>e[30]||(e[30]=[o("Имя")])),_:1})]),_:1}),t(N,null,{prepend:a(()=>[t(S,{color:"primary"},{default:a(()=>e[31]||(e[31]=[o("mdi-email")])),_:1})]),default:a(()=>[t(O,null,{default:a(()=>[o(C(s.value.email),1)]),_:1}),t(Y,null,{default:a(()=>e[32]||(e[32]=[o("Email")])),_:1})]),_:1}),t(N,null,{prepend:a(()=>[t(S,{color:"primary"},{default:a(()=>e[33]||(e[33]=[o("mdi-phone")])),_:1})]),default:a(()=>[t(O,null,{default:a(()=>[o(C(s.value.phone),1)]),_:1}),t(Y,null,{default:a(()=>e[34]||(e[34]=[o("Телефон")])),_:1})]),_:1}),t(N,null,{prepend:a(()=>[t(S,{color:"primary"},{default:a(()=>e[35]||(e[35]=[o("mdi-history")])),_:1})]),default:a(()=>[t(O,null,{default:a(()=>[o(C(s.value.contactCount||0),1)]),_:1}),t(Y,null,{default:a(()=>e[36]||(e[36]=[o("Предыдущих обращений")])),_:1})]),_:1})]),_:1}),t(J,{class:"my-4"}),e[40]||(e[40]=p("h3",{class:"text-h6 mb-2"},"Действия",-1)),t(K,{block:"",color:"error",variant:"flat",class:"mb-2",onClick:g},{default:a(()=>[t(S,{start:""},{default:a(()=>e[37]||(e[37]=[o("mdi-close-circle")])),_:1}),e[38]||(e[38]=o(" Завершить чат "))]),_:1})],64)):!r.value&&M.value.id?(h(),L(X,{key:1},[e[45]||(e[45]=p("h3",{class:"text-h6 mb-2"},"Информация об операторе",-1)),t(Q,{density:"compact"},{default:a(()=>[t(N,null,{prepend:a(()=>[t(S,{color:"primary"},{default:a(()=>e[41]||(e[41]=[o("mdi-account")])),_:1})]),default:a(()=>[t(O,null,{default:a(()=>[o(C(M.value.name),1)]),_:1}),t(Y,null,{default:a(()=>e[42]||(e[42]=[o("Имя")])),_:1})]),_:1}),t(N,null,{prepend:a(()=>[t(S,{color:"primary"},{default:a(()=>e[43]||(e[43]=[o("mdi-star")])),_:1})]),default:a(()=>[t(O,null,{default:a(()=>[o(C(M.value.rating||"Нет оценок"),1)]),_:1}),t(Y,null,{default:a(()=>e[44]||(e[44]=[o("Рейтинг")])),_:1})]),_:1})]),_:1})],64)):H("",!0),u.value?(h(),L("div",Yt,[e[50]||(e[50]=p("h3",{class:"text-h6 mb-2"},"Информация о чате",-1)),t(Q,{density:"compact"},{default:a(()=>[t(N,null,{prepend:a(()=>[t(S,{color:"primary"},{default:a(()=>e[46]||(e[46]=[o("mdi-clock")])),_:1})]),default:a(()=>[t(O,null,{default:a(()=>[o(C(q.value),1)]),_:1}),t(Y,null,{default:a(()=>e[47]||(e[47]=[o("Длительность")])),_:1})]),_:1}),t(N,null,{prepend:a(()=>[t(S,{color:"primary"},{default:a(()=>e[48]||(e[48]=[o("mdi-message-text")])),_:1})]),default:a(()=>[t(O,null,{default:a(()=>[o(C(n.value.length),1)]),_:1}),t(Y,null,{default:a(()=>e[49]||(e[49]=[o("Сообщений")])),_:1})]),_:1})]),_:1})])):H("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(yt,{modelValue:w.value,"onUpdate:modelValue":e[7]||(e[7]=i=>w.value=i),color:_.value,timeout:3e3},{actions:a(()=>[t(K,{variant:"text",onClick:e[6]||(e[6]=i=>w.value=!1)},{default:a(()=>e[51]||(e[51]=[o("Закрыть")])),_:1})]),default:a(()=>[o(C(V.value)+" ",1)]),_:1},8,["modelValue","color"])]),_:1}))}},ra=Le($t,[["__scopeId","data-v-e93e41d2"]]);export{ra as default};
