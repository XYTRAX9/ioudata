import{a5 as U,Q as D,d as c,c as B,x as I,K as f,L as d,M as t,R as g,m as e,S as n,T as s,O as v,F as M,U as P,V as E}from"./vue-vendor-B4qzxTjV.js";import{g as F,f as j}from"./index-CIpMSW_s.js";import{V as _,a as y,d as z,b as k,c as L}from"./VCard-BaakkVFD.js";import{f as G,g as Q}from"./VAvatar-C-ER2-0S.js";import{V as q}from"./VSpacer-CKNG9Jdn.js";import{V as K,a as O}from"./VRadioGroup-MXeA1bTF.js";import{V}from"./VBtn-B-hdhH-1.js";import{V as H}from"./VDialog-BeAbm4-J.js";import"./vuetify-vendor-BD37EBPT.js";import"./VSelectionControl-b5nrjLPm.js";import"./VInput-Bp3p24Ap.js";import"./index-yNQZhi3p.js";import"./VOverlay-BXO8EOEs.js";import"./lazy-UP9naqc7.js";import"./forwardRefs-C-GTDzx5.js";import"./dialog-transition-MjUo7Nu_.js";const J={key:0,class:"d-flex justify-center align-center",style:{height:"300px"}},W={key:1},X={class:"mt-2 d-flex align-center"},Y={class:"text-h5 mb-3"},Z={class:"text-h6"},Ve={__name:"[id]",setup($){const R=U();D();const w=R.params.id,C=c(!0),a=c({}),u=c(0),r=c(null),i=c([]),x=c(!1),p=c(0),b=B(()=>a.value.questions&&a.value.questions.length>0?a.value.questions[u.value]:{text:"",options:[]}),h=B(()=>{var m;return u.value/(((m=a.value.questions)==null?void 0:m.length)-1)*100});function A(){i.value[u.value]=r.value,u.value<a.value.questions.length-1&&(u.value++,r.value=i.value[u.value]!==void 0?i.value[u.value]:null)}function N(){i.value[u.value]=r.value,u.value>0&&(u.value--,r.value=i.value[u.value])}function S(){i.value[u.value]=r.value,p.value=0,i.value.forEach((m,l)=>{const o=a.value.questions[l];m!==null&&o.options[m].correct&&p.value++}),x.value=!0}return I(async()=>{setTimeout(()=>{a.value={id:w,title:"Тест на знание продукта",category:"Профессиональные навыки",description:"Проверка знаний о продуктах и услугах компании",timeLimit:30,questions:[{text:"Какой основной продукт компании?",options:[{text:"Программное обеспечение",correct:!0},{text:"Аппаратные средства",correct:!1},{text:"Консультационные услуги",correct:!1},{text:"Облачные сервисы",correct:!1}]},{text:"Какой срок гарантии на продукты компании?",options:[{text:"1 год",correct:!1},{text:"2 года",correct:!0},{text:"3 года",correct:!1},{text:"Без гарантии",correct:!1}]},{text:"Какой канал поддержки клиентов наиболее предпочтителен?",options:[{text:"Телефон",correct:!1},{text:"Электронная почта",correct:!1},{text:"Онлайн-чат",correct:!0},{text:"Социальные сети",correct:!1}]}]},i.value=Array(a.value.questions.length).fill(null),C.value=!1},1e3)}),(m,l)=>(d(),f(j,null,{default:t(()=>[C.value?(d(),g("div",J,[e(F,{indeterminate:"",color:"primary",size:"64"})])):(d(),g("div",W,[e(_,{class:"mb-4"},{default:t(()=>[e(y,null,{default:t(()=>[n(s(a.value.title),1)]),_:1}),e(z,null,{default:t(()=>[n(s(a.value.category),1)]),_:1}),e(k,null,{default:t(()=>[v("p",null,s(a.value.description),1),v("div",X,[e(G,{color:"info",class:"mr-2"},{default:t(()=>l[3]||(l[3]=[n("mdi-clock-outline")])),_:1}),v("span",null,"Ограничение по времени: "+s(a.value.timeLimit)+" минут",1),e(q),v("span",null,"Вопрос "+s(u.value+1)+" из "+s(a.value.questions.length),1)]),e(Q,{modelValue:h.value,"onUpdate:modelValue":l[0]||(l[0]=o=>h.value=o),color:"primary",height:"10",class:"mt-2"},null,8,["modelValue"])]),_:1})]),_:1}),e(_,null,{default:t(()=>[e(y,null,{default:t(()=>[n(s(b.value.text),1)]),_:1}),e(k,null,{default:t(()=>[e(K,{modelValue:r.value,"onUpdate:modelValue":l[1]||(l[1]=o=>r.value=o)},{default:t(()=>[(d(!0),g(M,null,P(b.value.options,(o,T)=>(d(),f(O,{key:T,label:o.text,value:T,color:"primary"},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(L,null,{default:t(()=>[u.value>0?(d(),f(V,{key:0,color:"secondary",onClick:N},{default:t(()=>l[4]||(l[4]=[n(" Назад ")])),_:1})):E("",!0),e(q),u.value<a.value.questions.length-1?(d(),f(V,{key:1,color:"primary",onClick:A,disabled:r.value===null},{default:t(()=>l[5]||(l[5]=[n(" Далее ")])),_:1},8,["disabled"])):(d(),f(V,{key:2,color:"success",onClick:S,disabled:r.value===null},{default:t(()=>l[6]||(l[6]=[n(" Завершить тест ")])),_:1},8,["disabled"]))]),_:1})]),_:1}),e(H,{modelValue:x.value,"onUpdate:modelValue":l[2]||(l[2]=o=>x.value=o),"max-width":"600"},{default:t(()=>[e(_,null,{default:t(()=>[e(y,null,{default:t(()=>l[7]||(l[7]=[n("Результаты теста")])),_:1}),e(k,null,{default:t(()=>[v("h3",Y,s(a.value.title),1),v("p",Z,"Правильных ответов: "+s(p.value)+" из "+s(a.value.questions.length),1),e(Q,{"model-value":p.value/a.value.questions.length*100,color:"success",height:"20",striped:""},{default:t(({value:o})=>[v("strong",null,s(Math.ceil(o))+"%",1)]),_:1},8,["model-value"])]),_:1}),e(L,null,{default:t(()=>[e(q),e(V,{color:"primary",to:"/tests"},{default:t(()=>l[8]||(l[8]=[n("К списку тестов")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))]),_:1}))}};export{Ve as default};
