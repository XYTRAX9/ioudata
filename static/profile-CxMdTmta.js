import{_ as ie}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as T,a as _,b as S,c as P}from"./VCard-BaakkVFD.js";import{g as re,d as se,e as O,f as ue}from"./index-CIpMSW_s.js";import{n as de,e as me,f as $,L as fe,h as ce}from"./VAvatar-C-ER2-0S.js";import{V as D}from"./VSpacer-CKNG9Jdn.js";import{V as w}from"./VBtn-B-hdhH-1.js";import{V as ve}from"./VDataTable-BJfS9fh-.js";import{V as pe}from"./VRating-prAmFwNY.js";import{a as Ve}from"./index-yNQZhi3p.js";import{u as we,V as j,m as xe}from"./VInput-Bp3p24Ap.js";import{V as K,m as ye}from"./VSelectionControl-b5nrjLPm.js";import{g as ge,p as De,x as W,M as be,b as ke,K as Ce}from"./vuetify-vendor-BD37EBPT.js";import{d as f,c as G,y as Te,m as e,n as J,F as Y,K as _e,L as N,M as l,O as r,S as s,T as p,R as Q,U as Se,W as B}from"./vue-vendor-B4qzxTjV.js";import{V as X}from"./VDialog-BeAbm4-J.js";import{V as he}from"./VForm-D0rJnxSg.js";import{V as E}from"./VTextField-BhM9EnZB.js";import"./VTable-4JWyy6tp.js";import"./VSelect-DqaGkUWA.js";import"./forwardRefs-C-GTDzx5.js";import"./VList-zMJOwsiP.js";import"./VDivider-Drx-iRHJ.js";import"./VMenu-BWniRe4g.js";import"./VOverlay-BXO8EOEs.js";import"./lazy-UP9naqc7.js";import"./dialog-transition-MjUo7Nu_.js";import"./VCheckboxBtn-CvAPjEFh.js";import"./VChip-pvFqXEpf.js";import"./VField-BmVeynRq.js";const Pe=De({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...xe(),...ye()},"VSwitch"),H=ge()({name:"VSwitch",inheritAttrs:!1,props:Pe(),emits:{"update:focused":o=>!0,"update:modelValue":o=>!0,"update:indeterminate":o=>!0},setup(o,d){let{attrs:c,slots:n}=d;const x=W(o,"indeterminate"),u=W(o,"modelValue"),{loaderClasses:m}=de(o),{isFocused:y,focus:b,blur:g}=we(o),k=f(),h=be&&window.matchMedia("(forced-colors: active)").matches,U=G(()=>typeof o.loading=="string"&&o.loading!==""?o.loading:o.color),I=Te(),F=G(()=>o.id||`switch-${I}`);function z(){x.value&&(x.value=!1)}function i(t){var a,V;t.stopPropagation(),t.preventDefault(),(V=(a=k.value)==null?void 0:a.input)==null||V.click()}return ke(()=>{const[t,a]=Ce(c),V=j.filterProps(o),Z=K.filterProps(o);return e(j,J({class:["v-switch",{"v-switch--flat":o.flat},{"v-switch--inset":o.inset},{"v-switch--indeterminate":x.value},m.value,o.class]},t,V,{modelValue:u.value,"onUpdate:modelValue":A=>u.value=A,id:F.value,focused:y.value,style:o.style}),{...n,default:A=>{let{id:ee,messagesId:te,isDisabled:le,isReadonly:ae,isValid:q}=A;const L={model:u,isValid:q};return e(K,J({ref:k},Z,{modelValue:u.value,"onUpdate:modelValue":[C=>u.value=C,z],id:ee.value,"aria-describedby":te.value,type:"checkbox","aria-checked":x.value?"mixed":void 0,disabled:le.value,readonly:ae.value,onFocus:b,onBlur:g},a),{...n,default:C=>{let{backgroundColorClasses:M,backgroundColorStyles:v}=C;return e("div",{class:["v-switch__track",h?void 0:M.value],style:v.value,onClick:i},[n["track-true"]&&e("div",{key:"prepend",class:"v-switch__track-true"},[n["track-true"](L)]),n["track-false"]&&e("div",{key:"append",class:"v-switch__track-false"},[n["track-false"](L)])])},input:C=>{let{inputNode:M,icon:v,backgroundColorClasses:oe,backgroundColorStyles:ne}=C;return e(Y,null,[M,e("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":v||o.loading},o.inset||h?void 0:oe.value],style:o.inset?void 0:ne.value},[n.thumb?e(me,{defaults:{VIcon:{icon:v,size:"x-small"}}},{default:()=>[n.thumb({...L,icon:v})]}):e(Ve,null,{default:()=>[o.loading?e(fe,{name:"v-switch",active:!0,color:q.value===!1?void 0:U.value},{default:R=>n.loader?n.loader(R):e(re,{active:R.isActive,color:R.color,indeterminate:!0,size:"16",width:"2"},null)}):v&&e($,{key:String(v),icon:v,size:"x-small"},null)]})])])}})}})}),{}}}),Be={class:"text-h5 mb-2"},Ue={class:"text-subtitle-1 mb-1"},Ie={class:"text-body-1 mb-1"},Fe={class:"text-body-1 mb-1"},ze={class:"text-body-1 mb-1"},Ae={class:"text-subtitle-2"},Le={class:"chat-history-container pa-4"},Me={__name:"profile",setup(o){const d=f({id:"CL12345",name:"Сергей Петров",email:"petrov@example.com",phone:"+7 (999) 123-45-67",registrationDate:new Date("2023-01-15")}),c=f({email:!0,sms:!1,push:!0}),n=f([{title:"Дата",key:"date"},{title:"Оператор",key:"operator"},{title:"Тип",key:"type"},{title:"Продолжительность",key:"duration"},{title:"Оценка",key:"rating"},{title:"Действия",key:"actions"}]),x=f([{id:1,date:new Date("2023-10-12"),operator:"Иванов Иван",type:"Чат",duration:"15 мин",rating:5},{id:2,date:new Date("2023-09-28"),operator:"Петрова Мария",type:"Чат",duration:"8 мин",rating:4},{id:3,date:new Date("2023-09-15"),operator:"Сидоров Алексей",type:"Чат",duration:"22 мин",rating:3}]),u=f(!1),m=f({...d.value}),y=f(!1),b=f(null),g=f([]);function k(i){return i?new Date(i).toLocaleDateString():""}function h(i){return i?new Date(i).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""}function U(){m.value={...d.value},u.value=!0}function I(){d.value={...m.value},u.value=!1,alert("Профиль успешно обновлен")}function F(){alert("Настройки уведомлений сохранены")}function z(i){b.value=i,i.id===1?g.value=[{sender:"client",text:"Здравствуйте! У меня проблема с заказом №12345",time:new Date("2023-10-12T14:30:00")},{sender:"operator",text:"Добрый день! Я посмотрю информацию по вашему заказу. Минутку, пожалуйста.",time:new Date("2023-10-12T14:31:00")},{sender:"operator",text:"Я проверил ваш заказ. Он находится на стадии комплектации и будет отправлен завтра.",time:new Date("2023-10-12T14:33:00")},{sender:"client",text:"Спасибо за информацию! А можно уточнить, каким способом будет доставка?",time:new Date("2023-10-12T14:34:00")},{sender:"operator",text:"Ваш заказ будет доставлен курьером. Ожидаемая дата доставки - 15 октября.",time:new Date("2023-10-12T14:36:00")},{sender:"client",text:"Отлично, спасибо за помощь!",time:new Date("2023-10-12T14:37:00")},{sender:"operator",text:"Всегда рад помочь! Если возникнут еще вопросы, обращайтесь.",time:new Date("2023-10-12T14:38:00")}]:i.id===2?g.value=[{sender:"client",text:"Добрый день! Хочу уточнить статус моего заказа №67890",time:new Date("2023-09-28T10:15:00")},{sender:"operator",text:"Здравствуйте! Сейчас проверю информацию по вашему заказу.",time:new Date("2023-09-28T10:16:00")},{sender:"operator",text:"Ваш заказ уже доставлен в пункт выдачи. Вы можете забрать его в любое удобное время.",time:new Date("2023-09-28T10:18:00")},{sender:"client",text:"Спасибо! Подскажите, до какого числа я могу его забрать?",time:new Date("2023-09-28T10:19:00")},{sender:"operator",text:"Ваш заказ будет храниться в пункте выдачи до 5 октября включительно.",time:new Date("2023-09-28T10:20:00")},{sender:"client",text:"Понятно, спасибо за информацию!",time:new Date("2023-09-28T10:21:00")}]:g.value=[{sender:"client",text:"Здравствуйте, у меня не работает приложение после обновления",time:new Date("2023-09-15T16:45:00")},{sender:"operator",text:"Добрый день! Давайте разберемся с проблемой. Какое устройство вы используете?",time:new Date("2023-09-15T16:46:00")},{sender:"client",text:"У меня iPhone 12, iOS 16.5",time:new Date("2023-09-15T16:47:00")},{sender:"operator",text:"Спасибо за информацию. Пожалуйста, попробуйте следующие шаги: закройте приложение, перезагрузите устройство и запустите приложение снова.",time:new Date("2023-09-15T16:49:00")},{sender:"client",text:"Я уже пробовал, не помогает",time:new Date("2023-09-15T16:51:00")},{sender:"operator",text:"В таком случае, попробуйте удалить приложение и установить его заново. Ваши данные сохранятся, так как они привязаны к вашей учетной записи.",time:new Date("2023-09-15T16:53:00")},{sender:"client",text:"Хорошо, попробую и сообщу о результате",time:new Date("2023-09-15T16:54:00")},{sender:"operator",text:"Буду ждать вашего ответа. Если проблема не решится, мы можем попробовать другие варианты.",time:new Date("2023-09-15T16:55:00")},{sender:"client",text:"Помогло! Спасибо за помощь",time:new Date("2023-09-15T17:05:00")},{sender:"operator",text:"Отлично! Рад, что проблема решена. Если возникнут вопросы, обращайтесь снова.",time:new Date("2023-09-15T17:06:00")}],y.value=!0}return(i,t)=>(N(),_e(ue,null,{default:l(()=>[t[23]||(t[23]=r("h1",{class:"text-h4 mb-4"},"Профиль клиента",-1)),e(T,{class:"mb-4"},{default:l(()=>[e(_,null,{default:l(()=>t[10]||(t[10]=[s("Личная информация")])),_:1}),e(S,null,{default:l(()=>[e(se,null,{default:l(()=>[e(O,{cols:"4"},{default:l(()=>[e(ce,{size:"150",color:"grey lighten-2"},{default:l(()=>[e($,{size:"80",color:"grey"},{default:l(()=>t[11]||(t[11]=[s("mdi-account")])),_:1})]),_:1})]),_:1}),e(O,{cols:"8"},{default:l(()=>[r("div",Be,p(d.value.name),1),r("div",Ue,"ID: "+p(d.value.id),1),r("div",Ie,"Email: "+p(d.value.email),1),r("div",Fe,"Телефон: "+p(d.value.phone),1),r("div",ze,"Дата регистрации: "+p(k(d.value.registrationDate)),1)]),_:1})]),_:1})]),_:1}),e(P,null,{default:l(()=>[e(D),e(w,{color:"primary",onClick:U},{default:l(()=>t[12]||(t[12]=[s(" Редактировать профиль ")])),_:1})]),_:1})]),_:1}),e(T,{class:"mb-4"},{default:l(()=>[e(_,{class:"d-flex align-center"},{default:l(()=>[t[14]||(t[14]=s(" История коммуникаций ")),e(D),e(w,{variant:"text",color:"primary",to:"/chat/client"},{default:l(()=>t[13]||(t[13]=[s(" Начать новый чат ")])),_:1})]),_:1}),e(S,null,{default:l(()=>[e(ve,{headers:n.value,items:x.value,"items-per-page":5,class:"elevation-1"},{"item.actions":l(({item:a})=>[e(w,{icon:"",size:"small",onClick:V=>z(a.raw)},{default:l(()=>[e($,null,{default:l(()=>t[15]||(t[15]=[s("mdi-eye")])),_:1})]),_:2},1032,["onClick"])]),"item.rating":l(({item:a})=>[e(pe,{"model-value":a.raw.rating,color:"amber",density:"compact",size:"small",readonly:""},null,8,["model-value"])]),_:1},8,["headers","items"])]),_:1})]),_:1}),e(T,null,{default:l(()=>[e(_,null,{default:l(()=>t[16]||(t[16]=[s("Настройки уведомлений")])),_:1}),e(S,null,{default:l(()=>[e(H,{modelValue:c.value.email,"onUpdate:modelValue":t[0]||(t[0]=a=>c.value.email=a),label:"Получать уведомления по email"},null,8,["modelValue"]),e(H,{modelValue:c.value.sms,"onUpdate:modelValue":t[1]||(t[1]=a=>c.value.sms=a),label:"Получать SMS-уведомления"},null,8,["modelValue"]),e(H,{modelValue:c.value.push,"onUpdate:modelValue":t[2]||(t[2]=a=>c.value.push=a),label:"Получать push-уведомления"},null,8,["modelValue"])]),_:1}),e(P,null,{default:l(()=>[e(D),e(w,{color:"primary",onClick:F},{default:l(()=>t[17]||(t[17]=[s(" Сохранить настройки ")])),_:1})]),_:1})]),_:1}),e(X,{modelValue:u.value,"onUpdate:modelValue":t[7]||(t[7]=a=>u.value=a),"max-width":"600"},{default:l(()=>[e(T,null,{default:l(()=>[e(_,null,{default:l(()=>t[18]||(t[18]=[s("Редактирование профиля")])),_:1}),e(S,null,{default:l(()=>[e(he,{ref:"form"},{default:l(()=>[e(E,{modelValue:m.value.name,"onUpdate:modelValue":t[3]||(t[3]=a=>m.value.name=a),label:"Имя",required:""},null,8,["modelValue"]),e(E,{modelValue:m.value.email,"onUpdate:modelValue":t[4]||(t[4]=a=>m.value.email=a),label:"Email",type:"email",required:""},null,8,["modelValue"]),e(E,{modelValue:m.value.phone,"onUpdate:modelValue":t[5]||(t[5]=a=>m.value.phone=a),label:"Телефон",required:""},null,8,["modelValue"])]),_:1},512)]),_:1}),e(P,null,{default:l(()=>[e(D),e(w,{color:"secondary",onClick:t[6]||(t[6]=a=>u.value=!1)},{default:l(()=>t[19]||(t[19]=[s("Отмена")])),_:1}),e(w,{color:"primary",onClick:I},{default:l(()=>t[20]||(t[20]=[s("Сохранить")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(X,{modelValue:y.value,"onUpdate:modelValue":t[9]||(t[9]=a=>y.value=a),"max-width":"800"},{default:l(()=>[e(T,null,{default:l(()=>[e(_,{class:"d-flex align-center"},{default:l(()=>[t[21]||(t[21]=r("span",null,"Диалог с оператором",-1)),e(D),r("span",Ae,p(b.value?k(b.value.date):""),1)]),_:1}),e(S,null,{default:l(()=>[r("div",Le,[(N(!0),Q(Y,null,Se(g.value,(a,V)=>(N(),Q("div",{key:V,class:B(["mb-4",{"d-flex justify-end":a.sender==="client","d-flex justify-start":a.sender==="operator"}])},[r("div",{class:B(["message-bubble pa-3 rounded",{primary:a.sender==="client","bg-grey-lighten-3":a.sender==="operator"}]),style:{"max-width":"80%"}},[r("div",{class:B({"text-white":a.sender==="client"})},p(a.text),3),r("div",{class:B(["text-caption mt-1 text-right",{"text-white":a.sender==="client"}])},p(h(a.time)),3)],2)],2))),128))])]),_:1}),e(P,null,{default:l(()=>[e(D),e(w,{color:"primary",onClick:t[8]||(t[8]=a=>y.value=!1)},{default:l(()=>t[22]||(t[22]=[s("Закрыть")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},ft=ie(Me,[["__scopeId","data-v-d60f56c9"]]);export{ft as default};
