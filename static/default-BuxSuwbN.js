import{_ as fe}from"./logo-DVq7Nf4Z.js";import{m as A,u as Q,a as ge,b as he,c as be,V as ye}from"./index-CIpMSW_s.js";import{m as l,E as I,s as _,c as d,d as D,w as N,x as Ve,q as Se,a as W,n as F,Q as xe,N as j,K as G,L as R,M as n,R as z,u as U,F as O,S as V,T as J,O as _e}from"./vue-vendor-B4qzxTjV.js";import{p as k,g as p,e as E,b as C,a as X,u as Te,v as Be,m as Z,f as H,w as ke,x as pe,y as ee,z as te,A as ae,q as Ce,B as we}from"./vuetify-vendor-BD37EBPT.js";import{u as le,a as oe,b as ne,m as se,c as re,d as ue,V as ie,e as L,f as He}from"./VAvatar-C-ER2-0S.js";import{V as Ie}from"./VSpacer-CKNG9Jdn.js";import{V as B}from"./VBtn-B-hdhH-1.js";import{V as q}from"./VDivider-Drx-iRHJ.js";import{V as Pe}from"./VMenu-BWniRe4g.js";import{u as ce,V as Ne,a as Y,b as $}from"./VList-zMJOwsiP.js";import{V as Re}from"./index-yNQZhi3p.js";import"./VOverlay-BXO8EOEs.js";import"./lazy-UP9naqc7.js";import"./forwardRefs-C-GTDzx5.js";import"./dialog-transition-MjUo7Nu_.js";const de=k({text:String,...E(),...A()},"VToolbarTitle"),ve=p()({name:"VToolbarTitle",props:de(),setup(e,i){let{slots:t}=i;return C(()=>{const s=!!(t.default||t.text||e.text);return l(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var r;return[s&&l("div",{class:"v-toolbar-title__placeholder"},[t.text?t.text():e.text,(r=t.default)==null?void 0:r.call(t)])]}})}),{}}}),Ae=[null,"prominent","default","comfortable","compact"],me=k({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>Ae.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...ue(),...E(),...re(),...se(),...A({tag:"header"}),...Z()},"VToolbar"),K=p()({name:"VToolbar",props:me(),setup(e,i){var f;let{slots:t}=i;const{backgroundColorClasses:s,backgroundColorStyles:r}=Q(I(e,"color")),{borderClasses:a}=le(e),{elevationClasses:c}=oe(e),{roundedClasses:u}=ne(e),{themeClasses:g}=X(e),{rtlClasses:S}=Te(),m=_(!!(e.extended||(f=t.extension)!=null&&f.call(t))),h=d(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),b=d(()=>m.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return Be({VBtn:{variant:"text"}}),C(()=>{var P;const v=!!(e.title||t.title),y=!!(t.image||e.image),T=(P=t.extension)==null?void 0:P.call(t);return m.value=!!(e.extended||T),l(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},s.value,a.value,c.value,u.value,g.value,S.value,e.class],style:[r.value,e.style]},{default:()=>[y&&l("div",{key:"image",class:"v-toolbar__image"},[t.image?l(L,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):l(ie,{key:"image-img",cover:!0,src:e.image},null)]),l(L,{defaults:{VTabs:{height:H(h.value)}}},{default:()=>{var o,x,w;return[l("div",{class:"v-toolbar__content",style:{height:H(h.value)}},[t.prepend&&l("div",{class:"v-toolbar__prepend"},[(o=t.prepend)==null?void 0:o.call(t)]),v&&l(ve,{key:"title",text:e.title},{text:t.title}),(x=t.default)==null?void 0:x.call(t),t.append&&l("div",{class:"v-toolbar__append"},[(w=t.append)==null?void 0:w.call(t)])])]}}),l(L,{defaults:{VTabs:{height:H(b.value)}}},{default:()=>[l(Re,null,{default:()=>[m.value&&l("div",{class:"v-toolbar__extension",style:{height:H(b.value)}},[T])]})]})]})}),{contentHeight:h,extensionHeight:b}}}),Ee=k({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Le(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:t}=i;let s=0,r=0;const a=D(null),c=_(0),u=_(0),g=_(0),S=_(!1),m=_(!1),h=d(()=>Number(e.scrollThreshold)),b=d(()=>ke((h.value-c.value)/h.value||0)),f=()=>{const v=a.value;if(!v||t&&!t.value)return;s=c.value,c.value="window"in v?v.pageYOffset:v.scrollTop;const y=v instanceof Window?document.documentElement.scrollHeight:v.scrollHeight;if(r!==y){r=y;return}m.value=c.value<s,g.value=Math.abs(c.value-h.value)};return N(m,()=>{u.value=u.value||c.value}),N(S,()=>{u.value=0}),Ve(()=>{N(()=>e.scrollTarget,v=>{var T;const y=v?document.querySelector(v):window;y&&y!==a.value&&((T=a.value)==null||T.removeEventListener("scroll",f),a.value=y,a.value.addEventListener("scroll",f,{passive:!0}))},{immediate:!0})}),Se(()=>{var v;(v=a.value)==null||v.removeEventListener("scroll",f)}),t&&N(t,f,{immediate:!0}),{scrollThreshold:h,currentScroll:c,currentThreshold:g,isScrollActive:S,scrollRatio:b,isScrollingUp:m,savedScroll:u}}const De=k({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...me(),...ae(),...Ee(),height:{type:[Number,String],default:64}},"VAppBar"),Fe=p()({name:"VAppBar",props:De(),emits:{"update:modelValue":e=>!0},setup(e,i){let{slots:t}=i;const s=D(),r=pe(e,"modelValue"),a=d(()=>{var x;const o=new Set(((x=e.scrollBehavior)==null?void 0:x.split(" "))??[]);return{hide:o.has("hide"),fullyHide:o.has("fully-hide"),inverted:o.has("inverted"),collapse:o.has("collapse"),elevate:o.has("elevate"),fadeImage:o.has("fade-image")}}),c=d(()=>{const o=a.value;return o.hide||o.fullyHide||o.inverted||o.collapse||o.elevate||o.fadeImage||!r.value}),{currentScroll:u,scrollThreshold:g,isScrollingUp:S,scrollRatio:m}=Le(e,{canScroll:c}),h=d(()=>a.value.hide||a.value.fullyHide),b=d(()=>e.collapse||a.value.collapse&&(a.value.inverted?m.value>0:m.value===0)),f=d(()=>e.flat||a.value.fullyHide&&!r.value||a.value.elevate&&(a.value.inverted?u.value>0:u.value===0)),v=d(()=>a.value.fadeImage?a.value.inverted?1-m.value:m.value:void 0),y=d(()=>{var w,M;if(a.value.hide&&a.value.inverted)return 0;const o=((w=s.value)==null?void 0:w.contentHeight)??0,x=((M=s.value)==null?void 0:M.extensionHeight)??0;return h.value?u.value<g.value||a.value.fullyHide?o+x:o:o+x});ee(d(()=>!!e.scrollBehavior),()=>{W(()=>{h.value?a.value.inverted?r.value=u.value>g.value:r.value=S.value||u.value<g.value:r.value=!0})});const{ssrBootStyles:T}=ce(),{layoutItemStyles:P}=te({id:e.name,order:d(()=>parseInt(e.order,10)),position:I(e,"location"),layoutSize:y,elementSize:_(void 0),active:r,absolute:I(e,"absolute")});return C(()=>{const o=K.filterProps(e);return l(K,F({ref:s,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...P.value,"--v-toolbar-image-opacity":v.value,height:void 0,...T.value},e.style]},o,{collapse:b.value,flat:f.value}),t)}),{}}}),Me=p()({name:"VAppBarTitle",props:de(),setup(e,i){let{slots:t}=i;return C(()=>l(ve,F(e,{class:"v-app-bar-title"}),t)),{}}}),ze=k({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...ue(),...E(),...re(),...ae(),...se(),...A({tag:"footer"}),...Z()},"VFooter"),Ue=p()({name:"VFooter",props:ze(),setup(e,i){let{slots:t}=i;const s=D(),{themeClasses:r}=X(e),{backgroundColorClasses:a,backgroundColorStyles:c}=Q(I(e,"color")),{borderClasses:u}=le(e),{elevationClasses:g}=oe(e),{roundedClasses:S}=ne(e),m=_(32),{resizeRef:h}=Ce(f=>{f.length&&(m.value=f[0].target.clientHeight)}),b=d(()=>e.height==="auto"?m.value:parseInt(e.height,10));return ee(()=>e.app,()=>{const f=te({id:e.name,order:d(()=>parseInt(e.order,10)),position:d(()=>"bottom"),layoutSize:b,elementSize:d(()=>e.height==="auto"?void 0:b.value),active:d(()=>e.app),absolute:I(e,"absolute")});W(()=>{s.value=f.layoutItemStyles.value})}),C(()=>l(e.tag,{ref:h,class:["v-footer",r.value,a.value,u.value,g.value,S.value,e.class],style:[c.value,e.app?s.value:{height:H(e.height)},e.style]},t)),{}}}),Oe=k({scrollable:Boolean,...E(),...he(),...A({tag:"main"})},"VMain"),qe=p()({name:"VMain",props:Oe(),setup(e,i){let{slots:t}=i;const{dimensionStyles:s}=ge(e),{mainStyles:r}=we(),{ssrBootStyles:a}=ce();return C(()=>l(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[r.value,a.value,s.value,e.style]},{default:()=>{var c,u;return[e.scrollable?l("div",{class:"v-main__scroller"},[(c=t.default)==null?void 0:c.call(t)]):(u=t.default)==null?void 0:u.call(t)]}})),{}}}),Ye={__name:"navbar",setup(e){const i=be(),t=xe();async function s(){await i.logout(),t.push("/login")}return(r,a)=>{const c=j("router-link");return R(),G(Fe,{elevation:1,color:"surface"},{default:n(()=>[l(Me,null,{default:n(()=>[l(c,{to:"/",class:"d-flex align-center text-decoration-none"},{default:n(()=>[l(ie,{src:fe,alt:"Logo","max-height":"40","max-width":"40",class:"me-2"})]),_:1})]),_:1}),l(Ie),U(i).isAuthenticated?(R(),z(O,{key:0},[l(B,{to:"/dashboard",variant:"text"},{default:n(()=>a[0]||(a[0]=[V(" Панель управления ")])),_:1}),l(B,{to:"/tests",variant:"text"},{default:n(()=>a[1]||(a[1]=[V(" Тесты ")])),_:1}),l(B,{to:"/chat",variant:"text"},{default:n(()=>a[2]||(a[2]=[V(" Чат ")])),_:1}),l(q,{vertical:"",class:"mx-4"}),l(Pe,{transition:"scale-transition",location:"bottom"},{activator:n(({props:u})=>[l(B,F(u,{class:"text-none",variant:"text"}),{default:n(()=>{var g;return[V(J(((g=U(i).user)==null?void 0:g.name)||"Профиль")+" ",1),l(He,{end:""},{default:n(()=>a[3]||(a[3]=[V("mdi-chevron-down")])),_:1})]}),_:2},1040)]),default:n(()=>[l(Ne,null,{default:n(()=>[l(Y,{to:"/profile"},{default:n(()=>[l($,null,{default:n(()=>a[4]||(a[4]=[V("Мой профиль")])),_:1})]),_:1}),l(q),l(Y,{onClick:s},{default:n(()=>[l($,null,{default:n(()=>a[5]||(a[5]=[V("Выйти")])),_:1})]),_:1})]),_:1})]),_:1})],64)):(R(),z(O,{key:1},[l(B,{to:"/login",variant:"text"},{default:n(()=>a[6]||(a[6]=[V(" Войти ")])),_:1}),l(B,{to:"/register",color:"primary",variant:"flat",class:"ml-2"},{default:n(()=>a[7]||(a[7]=[V(" Регистрация ")])),_:1})],64))]),_:1})}}},$e={class:"px-4 py-2 text-center w-100"},rt={__name:"default",setup(e){return(i,t)=>{const s=j("router-view");return R(),G(ye,null,{default:n(()=>[l(Ye),l(qe,null,{default:n(()=>[l(s)]),_:1}),l(Ue,{app:"",color:"surface",class:"text-center"},{default:n(()=>[_e("div",$e," © "+J(new Date().getFullYear())+" IOU Data ",1)]),_:1})]),_:1})}}};export{rt as default};
