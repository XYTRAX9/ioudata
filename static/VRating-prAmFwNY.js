import{g as B,p as N,H as $,a as w,x as A,w as z,N as T,b as H,m as D,e as E,J as k}from"./vuetify-vendor-BD37EBPT.js";import{o as J}from"./VAvatar-C-ER2-0S.js";import{m as j,i as q}from"./index-CIpMSW_s.js";import{V as G}from"./VBtn-B-hdhH-1.js";import{c as r,s as K,y as O,m as i,F as M,n as Q,S as U}from"./vue-vendor-B4qzxTjV.js";const W=N({name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:k,default:"$ratingEmpty"},fullIcon:{type:k,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},ripple:Boolean,...E(),...J(),...q(),...j(),...D()},"VRating"),ae=B()({name:"VRating",props:W(),emits:{"update:modelValue":e=>!0},setup(e,P){let{slots:s}=P;const{t:b}=$(),{themeClasses:C}=w(e),h=A(e,"modelValue"),c=r(()=>z(parseFloat(h.value),0,Number(e.length))),y=r(()=>T(Number(e.length),1)),I=r(()=>y.value.flatMap(a=>e.halfIncrements?[a-.5,a]:[a])),m=K(-1),g=r(()=>I.value.map(a=>{const t=e.hover&&m.value>-1,n=c.value>=a,l=m.value>=a,o=(t?l:n)?e.fullIcon:e.emptyIcon,f=e.activeColor??e.color,v=n||l?f:e.color;return{isFilled:n,isHovered:l,icon:o,color:v}})),F=r(()=>[0,...I.value].map(a=>{function t(){m.value=a}function n(){m.value=-1}function l(){e.disabled||e.readonly||(h.value=c.value===a&&e.clearable?0:a)}return{onMouseenter:e.hover?t:void 0,onMouseleave:e.hover?n:void 0,onClick:l}})),R=O(),V=r(()=>e.name??`v-rating-${R}`);function d(a){var S,_;let{value:t,index:n,showStar:l=!0}=a;const{onMouseenter:u,onMouseleave:o,onClick:f}=F.value[n+1],v=`${V.value}-${String(t).replace(".","-")}`,L={color:(S=g.value[n])==null?void 0:S.color,density:e.density,disabled:e.disabled,icon:(_=g.value[n])==null?void 0:_.icon,ripple:e.ripple,size:e.size,variant:"plain"};return i(M,null,[i("label",{for:v,class:{"v-rating__item--half":e.halfIncrements&&t%1>0,"v-rating__item--full":e.halfIncrements&&t%1===0},onMouseenter:u,onMouseleave:o,onClick:f},[i("span",{class:"v-rating__hidden"},[b(e.itemAriaLabel,t,e.length)]),l?s.item?s.item({...g.value[n],props:L,value:t,index:n,rating:c.value}):i(G,Q({"aria-label":b(e.itemAriaLabel,t,e.length)},L),null):void 0]),i("input",{class:"v-rating__hidden",name:V.value,id:v,type:"radio",value:t,checked:c.value===t,tabindex:-1,readonly:e.readonly,disabled:e.disabled},null)])}function x(a){return s["item-label"]?s["item-label"](a):a.label?i("span",null,[a.label]):i("span",null,[U("Â ")])}return H(()=>{var t;const a=!!((t=e.itemLabels)!=null&&t.length)||s["item-label"];return i(e.tag,{class:["v-rating",{"v-rating--hover":e.hover,"v-rating--readonly":e.readonly},C.value,e.class],style:e.style},{default:()=>[i(d,{value:0,index:-1,showStar:!1},null),y.value.map((n,l)=>{var u,o;return i("div",{class:"v-rating__wrapper"},[a&&e.itemLabelPosition==="top"?x({value:n,index:l,label:(u=e.itemLabels)==null?void 0:u[l]}):void 0,i("div",{class:"v-rating__item"},[e.halfIncrements?i(M,null,[i(d,{value:n-.5,index:l*2},null),i(d,{value:n,index:l*2+1},null)]):i(d,{value:n,index:l},null)]),a&&e.itemLabelPosition==="bottom"?x({value:n,index:l,label:(o=e.itemLabels)==null?void 0:o[l]}):void 0])})]})}),{}}});export{ae as V};
