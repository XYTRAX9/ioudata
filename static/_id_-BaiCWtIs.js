import{f as Z,m as e,$ as se,a0 as me,c as _,a1 as ve,p as pe,E as x,a5 as xe,d as I,w as Ve,x as ge,K as P,L as V,M as t,R as $,O as f,S as s,F as G,T as d,U as W,W as ye,V as q}from"./vue-vendor-B4qzxTjV.js";import{u as oe,a as be,b as Ce,m as re,d as k,e as y,g as ee,f as _e}from"./index-CIpMSW_s.js";import{a as Pe,m as ke,u as we,c as Se,V as E,d as Ee}from"./VBtn-B-hdhH-1.js";import{R as Te,e as ie,f as b,a as Ae,b as Ie,m as De,c as Re}from"./VAvatar-C-ER2-0S.js";import{V as te}from"./VAlert-BUlv_49D.js";import{V as N,a as F,d as Be,b as H}from"./VCard-BaakkVFD.js";import{V as le}from"./VDivider-Drx-iRHJ.js";import{V as ae,a as D,b as R,c as M,d as Le}from"./VList-zMJOwsiP.js";import{V as ze}from"./VChip-pvFqXEpf.js";import{V as $e}from"./VSpacer-CKNG9Jdn.js";import{V as Ge}from"./index-yNQZhi3p.js";import{g as U,p as O,b as j,e as h,J as ne,a as Ne,v as Fe,m as Me,af as Ue}from"./vuetify-vendor-BD37EBPT.js";import{u as Oe,m as je}from"./lazy-UP9naqc7.js";import{V as Je,a as Ke}from"./VRadioGroup-MXeA1bTF.js";import"./VSelectionControl-b5nrjLPm.js";import"./VInput-Bp3p24Ap.js";const B=Symbol.for("vuetify:v-expansion-panel"),ue=O({...h(),...je()},"VExpansionPanelText"),X=U()({name:"VExpansionPanelText",props:ue(),setup(a,C){let{slots:r}=C;const n=Z(B);if(!n)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:m,onAfterLeave:i}=Oe(a,n.isSelected);return j(()=>e(Ge,{onAfterLeave:i},{default:()=>{var v;return[se(e("div",{class:["v-expansion-panel-text",a.class],style:a.style},[r.default&&m.value&&e("div",{class:"v-expansion-panel-text__wrapper"},[(v=r.default)==null?void 0:v.call(r)])]),[[me,n.isSelected.value]])]}})),{}}}),de=O({color:String,expandIcon:{type:ne,default:"$expand"},collapseIcon:{type:ne,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...h(),...Ce()},"VExpansionPanelTitle"),Y=U()({name:"VExpansionPanelTitle",directives:{Ripple:Te},props:de(),setup(a,C){let{slots:r}=C;const n=Z(B);if(!n)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:m,backgroundColorStyles:i}=oe(a,"color"),{dimensionStyles:v}=be(a),g=_(()=>({collapseIcon:a.collapseIcon,disabled:n.disabled.value,expanded:n.isSelected.value,expandIcon:a.expandIcon,readonly:a.readonly})),w=_(()=>n.isSelected.value?a.collapseIcon:a.expandIcon);return j(()=>{var S;return se(e("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":n.isSelected.value,"v-expansion-panel-title--focusable":a.focusable,"v-expansion-panel-title--static":a.static},m.value,a.class],style:[i.value,v.value,a.style],type:"button",tabindex:n.disabled.value?-1:void 0,disabled:n.disabled.value,"aria-expanded":n.isSelected.value,onClick:a.readonly?void 0:n.toggle},[e("span",{class:"v-expansion-panel-title__overlay"},null),(S=r.default)==null?void 0:S.call(r,g.value),!a.hideActions&&e(ie,{defaults:{VIcon:{icon:w.value}}},{default:()=>{var T;return[e("span",{class:"v-expansion-panel-title__icon"},[((T=r.actions)==null?void 0:T.call(r,g.value))??e(b,null,null)])]}})]),[[ve("ripple"),a.ripple]])}),{}}}),ce=O({title:String,text:String,bgColor:String,...Re(),...ke(),...De(),...re(),...de(),...ue()},"VExpansionPanel"),Qe=U()({name:"VExpansionPanel",props:ce(),emits:{"group:selected":a=>!0},setup(a,C){let{slots:r}=C;const n=Pe(a,B),{backgroundColorClasses:m,backgroundColorStyles:i}=oe(a,"bgColor"),{elevationClasses:v}=Ae(a),{roundedClasses:g}=Ie(a),w=_(()=>(n==null?void 0:n.disabled.value)||a.disabled),S=_(()=>n.group.items.value.reduce((p,c,A)=>(n.group.selected.value.includes(c.id)&&p.push(A),p),[])),T=_(()=>{const p=n.group.items.value.findIndex(c=>c.id===n.id);return!n.isSelected.value&&S.value.some(c=>c-p===1)}),J=_(()=>{const p=n.group.items.value.findIndex(c=>c.id===n.id);return!n.isSelected.value&&S.value.some(c=>c-p===-1)});return pe(B,n),j(()=>{const p=!!(r.text||a.text),c=!!(r.title||a.title),A=Y.filterProps(a),K=X.filterProps(a);return e(a.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":n.isSelected.value,"v-expansion-panel--before-active":T.value,"v-expansion-panel--after-active":J.value,"v-expansion-panel--disabled":w.value},g.value,m.value,a.class],style:[i.value,a.style]},{default:()=>[e("div",{class:["v-expansion-panel__shadow",...v.value]},null),e(ie,{defaults:{VExpansionPanelTitle:{...A},VExpansionPanelText:{...K}}},{default:()=>{var L;return[c&&e(Y,{key:"title"},{default:()=>[r.title?r.title():a.title]}),p&&e(X,{key:"text"},{default:()=>[r.text?r.text():a.text]}),(L=r.default)==null?void 0:L.call(r)]}})]})}),{groupItem:n}}}),We=["default","accordion","inset","popout"],He=O({flat:Boolean,...Se(),...Ue(ce(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...Me(),...h(),...re(),variant:{type:String,default:"default",validator:a=>We.includes(a)}},"VExpansionPanels"),Xe=U()({name:"VExpansionPanels",props:He(),emits:{"update:modelValue":a=>!0},setup(a,C){let{slots:r}=C;const{next:n,prev:m}=we(a,B),{themeClasses:i}=Ne(a),v=_(()=>a.variant&&`v-expansion-panels--variant-${a.variant}`);return Fe({VExpansionPanel:{bgColor:x(a,"bgColor"),collapseIcon:x(a,"collapseIcon"),color:x(a,"color"),eager:x(a,"eager"),elevation:x(a,"elevation"),expandIcon:x(a,"expandIcon"),focusable:x(a,"focusable"),hideActions:x(a,"hideActions"),readonly:x(a,"readonly"),ripple:x(a,"ripple"),rounded:x(a,"rounded"),static:x(a,"static")}}),j(()=>e(a.tag,{class:["v-expansion-panels",{"v-expansion-panels--flat":a.flat,"v-expansion-panels--tile":a.tile},i.value,v.value,a.class],style:a.style},{default:()=>{var g;return[(g=r.default)==null?void 0:g.call(r,{prev:m,next:n})]}})),{next:n,prev:m}}}),Ye={class:"d-flex align-center"},Ze={class:"text-body-1"},he={class:"text-h3"},qe={class:"text-h5 mt-6"},et={class:"text-body-1 mt-2"},tt={class:"d-flex align-center"},lt={class:"mt-2"},yt={__name:"[id]",setup(a){Z("tests");const C=xe(),r=_(()=>C.params.id),n=I(!0),m=I(!1),i=I({}),v=I("all"),g=I([]),w=async()=>{n.value=!0,m.value=!1;try{await new Promise(o=>setTimeout(o,1200)),i.value={id:Number(r.value),title:"Коммуникативные навыки",category:"Soft Skills",description:"Тест оценивает навыки общения, способность выстраивать диалог, слушать собеседника и эффективно доносить информацию.",completedAt:new Date-864e5*2,duration:450,questionCount:15,correctAnswers:13,score:85,canRetake:!0,categories:[{name:"Активное слушание",score:90},{name:"Эмпатия",score:75},{name:"Убедительность",score:92},{name:"Решение конфликтов",score:83}],questions:[{text:"Какой из следующих способов является наиболее эффективным для начала разговора с незнакомым человеком?",options:[{text:"Говорить о себе и своих достижениях"},{text:"Задать открытый вопрос по теме, которая может быть интересна собеседнику"},{text:"Критиковать что-то, что вас обоих касается"},{text:"Поделиться негативными впечатлениями о ком-то известном вам обоим"}],correctAnswer:1,selectedAnswer:1,isCorrect:!0,explanation:"Открытые вопросы побуждают к разговору и показывают ваш интерес к собеседнику."},{text:'Что означает термин "активное слушание"?',options:[{text:"Слушать, периодически кивая головой"},{text:"Перебивать собеседника, чтобы показать свою заинтересованность"},{text:"Полностью сосредоточиться на словах собеседника, задавать уточняющие вопросы и перефразировать услышанное"},{text:"Слушать только ту информацию, которая вам интересна"}],correctAnswer:2,selectedAnswer:2,isCorrect:!0,explanation:"Активное слушание предполагает полное внимание к собеседнику и использование техник, подтверждающих понимание."},{text:"Какой из следующих способов не является эффективным для разрешения конфликта?",options:[{text:"Поиск компромисса"},{text:"Вызов посредника для разрешения спора"},{text:"Игнорирование проблемы в надежде, что она разрешится сама собой"},{text:"Открытое обсуждение причин конфликта"}],correctAnswer:2,selectedAnswer:0,isCorrect:!1,explanation:"Игнорирование проблемы обычно приводит к ее усугублению, а не к разрешению."}]}}catch(o){console.error("Ошибка загрузки результатов теста:",o),m.value=!0}finally{n.value=!1}},S=_(()=>{if(!i.value.questions)return[];switch(v.value){case"correct":return i.value.questions.filter(o=>o.isCorrect);case"incorrect":return i.value.questions.filter(o=>!o.isCorrect);default:return i.value.questions}});function T(o){return new Date(o).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}function J(o){const l=Math.floor(o/60),u=o%60;return`${l} мин. ${u} сек.`}function p(o){return o>=80?"success":o>=60?"warning":"error"}function c(o){return o>=90?"Отличный результат!":o>=75?"Хороший результат":o>=50?"Средний результат":"Требуется улучшение"}function A(o){return o>=90?"Вы продемонстрировали превосходные знания и навыки в данной области!":o>=75?"У вас хороший уровень знаний, но есть некоторые аспекты, которые можно улучшить.":o>=50?"Вы обладаете базовыми знаниями, но требуется дополнительное обучение.":"Рекомендуется более тщательное изучение материала и дополнительная практика."}function K(o,l){return l===o.correctAnswer?"success":l===o.selectedAnswer&&!o.isCorrect?"error":""}function L(o){return o.options[o.correctAnswer].text}return Ve(r,()=>{w()}),ge(()=>{w()}),(o,l)=>(V(),P(_e,{fluid:""},{default:t(()=>[e(k,null,{default:t(()=>[e(y,{cols:"12"},{default:t(()=>[f("div",Ye,[e(E,{icon:"",variant:"flat",size:"small",to:"/tests",class:"me-3"},{default:t(()=>[e(b,null,{default:t(()=>l[2]||(l[2]=[s("mdi-arrow-left")])),_:1})]),_:1}),l[3]||(l[3]=f("h1",{class:"text-h4"},"Результаты теста",-1))])]),_:1})]),_:1}),n.value?(V(),P(k,{key:0},{default:t(()=>[e(y,{cols:"12",class:"text-center py-5"},{default:t(()=>[e(ee,{indeterminate:"",color:"primary",size:"64"}),l[4]||(l[4]=f("div",{class:"mt-4"},"Загрузка результатов...",-1))]),_:1})]),_:1})):m.value?(V(),P(k,{key:1},{default:t(()=>[e(y,{cols:"12"},{default:t(()=>[e(te,{type:"error",title:"Ошибка загрузки",text:"Не удалось загрузить результаты теста"},{append:t(()=>[e(E,{color:"error",onClick:w},{default:t(()=>l[5]||(l[5]=[s(" Повторить ")])),_:1})]),_:1})]),_:1})]),_:1})):(V(),$(G,{key:2},[e(k,null,{default:t(()=>[e(y,{cols:"12"},{default:t(()=>[e(N,{class:"mb-4"},{default:t(()=>[e(F,{class:"pb-1"},{default:t(()=>[s(d(i.value.title),1)]),_:1}),e(Be,null,{default:t(()=>[s(d(i.value.category),1)]),_:1}),e(le,{class:"mx-4"}),e(H,null,{default:t(()=>[e(k,null,{default:t(()=>[e(y,{cols:"12",md:"8"},{default:t(()=>[f("p",Ze,d(i.value.description),1)]),_:1}),e(y,{cols:"12",md:"4"},{default:t(()=>[e(ae,{density:"compact"},{default:t(()=>[e(D,null,{prepend:t(()=>[e(b,{color:"info"},{default:t(()=>l[6]||(l[6]=[s("mdi-calendar")])),_:1})]),default:t(()=>[e(R,null,{default:t(()=>[s(d(T(i.value.completedAt)),1)]),_:1}),e(M,null,{default:t(()=>l[7]||(l[7]=[s(" Дата прохождения ")])),_:1})]),_:1}),e(D,null,{prepend:t(()=>[e(b,{color:"info"},{default:t(()=>l[8]||(l[8]=[s("mdi-help-circle")])),_:1})]),default:t(()=>[e(R,null,{default:t(()=>[s(d(i.value.questionCount)+" вопросов ",1)]),_:1}),e(M,null,{default:t(()=>l[9]||(l[9]=[s(" Всего вопросов ")])),_:1})]),_:1}),e(D,null,{prepend:t(()=>[e(b,{color:"info"},{default:t(()=>l[10]||(l[10]=[s("mdi-check")])),_:1})]),default:t(()=>[e(R,null,{default:t(()=>[s(d(i.value.correctAnswers)+" правильных ",1)]),_:1}),e(M,null,{default:t(()=>l[11]||(l[11]=[s(" Правильные ответы ")])),_:1})]),_:1}),e(D,null,{prepend:t(()=>[e(b,{color:"info"},{default:t(()=>l[12]||(l[12]=[s("mdi-timer")])),_:1})]),default:t(()=>[e(R,null,{default:t(()=>[s(d(J(i.value.duration)),1)]),_:1}),e(M,null,{default:t(()=>l[13]||(l[13]=[s(" Время прохождения ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(k,null,{default:t(()=>[e(y,{cols:"12",md:"6",class:"mb-4"},{default:t(()=>[e(N,{height:"100%"},{default:t(()=>[e(F,null,{default:t(()=>l[14]||(l[14]=[s("Общий результат")])),_:1}),e(H,{class:"text-center py-5"},{default:t(()=>[e(ee,{"model-value":i.value.score,color:p(i.value.score),size:"180",width:"18"},{default:t(()=>[f("div",he,d(i.value.score)+"%",1)]),_:1},8,["model-value","color"]),f("h3",qe,d(c(i.value.score)),1),f("p",et,d(A(i.value.score)),1)]),_:1})]),_:1})]),_:1}),e(y,{cols:"12",md:"6",class:"mb-4"},{default:t(()=>[e(N,{height:"100%"},{default:t(()=>[e(F,null,{default:t(()=>l[15]||(l[15]=[s("Детальная информация")])),_:1}),e(H,null,{default:t(()=>[e(ae,null,{default:t(()=>[e(Le,null,{default:t(()=>l[16]||(l[16]=[s("Распределение по категориям")])),_:1}),(V(!0),$(G,null,W(i.value.categories,(u,z)=>(V(),P(D,{key:z},{prepend:t(()=>[e(b,{color:p(u.score)},{default:t(()=>l[17]||(l[17]=[s("mdi-chart-bar")])),_:2},1032,["color"])]),append:t(()=>[e(ze,{color:p(u.score),size:"small"},{default:t(()=>[s(d(u.score)+"% ",1)]),_:2},1032,["color"])]),default:t(()=>[e(R,null,{default:t(()=>[s(d(u.name),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(k,null,{default:t(()=>[e(y,{cols:"12"},{default:t(()=>[e(N,null,{default:t(()=>[e(F,{class:"d-flex align-center"},{default:t(()=>[l[21]||(l[21]=f("span",null,"Ответы на вопросы",-1)),e($e),e(Ee,{modelValue:v.value,"onUpdate:modelValue":l[0]||(l[0]=u=>v.value=u),mandatory:"",color:"primary",density:"comfortable"},{default:t(()=>[e(E,{value:"all"},{default:t(()=>l[18]||(l[18]=[s(" Все ")])),_:1}),e(E,{value:"correct"},{default:t(()=>l[19]||(l[19]=[s(" Правильные ")])),_:1}),e(E,{value:"incorrect"},{default:t(()=>l[20]||(l[20]=[s(" Неправильные ")])),_:1})]),_:1},8,["modelValue"])]),_:1}),e(le),e(Xe,{modelValue:g.value,"onUpdate:modelValue":l[1]||(l[1]=u=>g.value=u),multiple:"",variant:"accordion"},{default:t(()=>[(V(!0),$(G,null,W(S.value,(u,z)=>(V(),P(Qe,{key:z,disabled:n.value,class:ye({"bg-success-lighten-5":u.isCorrect,"bg-error-lighten-5":!u.isCorrect})},{default:t(()=>[e(Y,null,{default:t(()=>[f("div",tt,[e(b,{color:u.isCorrect?"success":"error",class:"me-2"},{default:t(()=>[s(d(u.isCorrect?"mdi-check-circle":"mdi-close-circle"),1)]),_:2},1032,["color"]),f("div",null,"Вопрос "+d(z+1)+": "+d(u.text),1)])]),_:2},1024),e(X,null,{default:t(()=>[e(Je,{"model-value":u.selectedAnswer,disabled:""},{default:t(()=>[(V(!0),$(G,null,W(u.options,(fe,Q)=>(V(),P(Ke,{key:Q,label:fe.text,value:Q,color:K(u,Q)},null,8,["label","value","color"]))),128))]),_:2},1032,["model-value"]),u.isCorrect?q("",!0):(V(),P(te,{key:0,type:"info",variant:"tonal",class:"mt-3"},{default:t(()=>[l[23]||(l[23]=f("strong",null,"Правильный ответ:",-1)),s(" "+d(L(u))+" ",1),f("div",lt,[l[22]||(l[22]=f("strong",null,"Пояснение:",-1)),s(" "+d(u.explanation),1)])]),_:2},1024))]),_:2},1024)]),_:2},1032,["disabled","class"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(k,{class:"mt-4"},{default:t(()=>[e(y,{cols:"12",class:"text-center"},{default:t(()=>[e(E,{color:"primary",size:"large",class:"me-2",to:"/tests"},{default:t(()=>[e(b,{start:""},{default:t(()=>l[24]||(l[24]=[s("mdi-format-list-bulleted")])),_:1}),l[25]||(l[25]=s(" К списку тестов "))]),_:1}),i.value.canRetake?(V(),P(E,{key:0,color:"info",size:"large",to:`/tests/take/${r.value}`},{default:t(()=>[e(b,{start:""},{default:t(()=>l[26]||(l[26]=[s("mdi-reload")])),_:1}),l[27]||(l[27]=s(" Пройти заново "))]),_:1},8,["to"])):q("",!0)]),_:1})]),_:1})],64))]),_:1}))}};export{yt as default};
